---
title: Controlling Logging
metaTitle: Controlling Logging
metaDescription: description
---

Failover Manager writes and stores one log file per agent and one
startup log per agent in `/var/log/<cluster_name>-3.9` (where
`<cluster_name>` specifies the name of the cluster).

You can control the level of detail written to the agent log by
modifying the `jgroups.loglevel` and `efm.loglevel` parameters in the

[cluster properties file](loglevel):

``` text
---
title: Logging levels for JGroups and EFM.
metaTitle: Logging levels for JGroups and EFM.
metaDescription: description
---
---
title: Valid values are: TRACE, DEBUG, INFO, WARN, ERROR
metaTitle: Valid values are: TRACE, DEBUG, INFO, WARN, ERROR
metaDescription: description
---
---
title: Default value: INFO
metaTitle: Default value: INFO
metaDescription: description
---
---
title: It is not necessary to increase these values unless debugging a
metaTitle: It is not necessary to increase these values unless debugging a
metaDescription: description
---
---
title: specific issue. If nodes are not discovering each other at
metaTitle: specific issue. If nodes are not discovering each other at
metaDescription: description
---
---
title: startup, increasing the jgroups level to DEBUG will show
metaTitle: startup, increasing the jgroups level to DEBUG will show
metaDescription: description
---
---
title: information about the TCP connection attempts that may help
metaTitle: information about the TCP connection attempts that may help
metaDescription: description
---
---
title: diagnose the connection failures.
metaTitle: diagnose the connection failures.
metaDescription: description
---
jgroups.loglevel=INFO
efm.loglevel=INFO
```

The logging facilities use the Java logging library and logging levels.
The log levels (in order from most logging output to least) are:

>   - `TRACE`
>   - `DEBUG`
>   - `INFO`
>   - `WARN`
>   - `ERROR`

For example, if you set the `efm.loglevel` parameter to `WARN`, Failover
Manager will only log messages at the `WARN` level and above (`WARN` and
`ERROR`).

By default, Failover Manager log files are rotated daily, compressed,
and stored for a week. You can modify the file rotation schedule by
changing settings in the log rotation file (`/etc/logrotate.d/efm-3.9`).
For more information about modifying the log rotation schedule, consult
the logrotate man page:

> `$ man logrotate`

## Enabling syslog Log File Entries

Failover Manager supports for syslog logging. To implement syslog
logging, you must configure syslog to allow UDP or TCP connections.

To allow a connection to syslog, edit the `/etc/rsyslog.conf` file and
uncomment the protocol you wish to use. You must also ensure that the
`UDPServerRun` or `TCPServerRun` entry associated with the protocol
includes the port number to which log entries will be sent.

For example, the following configuration file entries enable UDP
connections to port 514:

``` text
---
title: Provides UDP syslog reception
metaTitle: Provides UDP syslog reception
metaDescription: description
---
$ModLoad imudp
$UDPServerRun 514
```

The following configuration file entries enable TCP connections to port
514:

``` text
---
title: Provides TCP syslog reception
metaTitle: Provides TCP syslog reception
metaDescription: description
---
$ModLoad imtcp
$InputTCPServerRun 514
```

After modifying the syslog configuration file, restart the rsyslog
service to enable the connections:

> `systemctl restart rsyslog.service`

After modifying the `rsyslog.conf` file on the Failover Manager host,
you must modify the Failover Manager properties to enable logging. Use
your choice of editor to [modify the properties file](logtype.enabled)

(`/etc/edb/efm-3.9/efm.properties.in`) specifying the type of logging
that you wish to implement:

``` text
---
title: Which logging is enabled.
metaTitle: Which logging is enabled.
metaDescription: description
---
file.log.enabled=true
syslog.enabled=false
```

You must also [specify syslog details](syslog.logging) for your system.
Use the

`syslog.protocol` parameter to specify the protocol type (UDP or TCP)
and the `syslog.port` parameter to specify the listener port of the
syslog host. The `syslog.facility` value may be used as an identifier
for the process that created the entry; the value must be between LOCAL0
and LOCAL7.

``` text
---
title: Syslog information. The syslog service must be listening on the
metaTitle: Syslog information. The syslog service must be listening on the
metaDescription: description
---
 port for the given protocol, which can be UDP or
---
title: TCP. The facilities supported are LOCAL0 through LOCAL7.
metaTitle: TCP. The facilities supported are LOCAL0 through LOCAL7.
metaDescription: description
---
---
title: syslog.host=localhost
metaTitle: syslog.host=localhost
metaDescription: description
---
syslog.port=514
syslog.protocol=UDP
syslog.facility=LOCAL1
```

For more information about syslog, please see the syslog man page:

> `syslog man`
